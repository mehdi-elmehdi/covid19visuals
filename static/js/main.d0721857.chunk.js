(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{22:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},28:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(19),c=a.n(s),o=(a(27),a(28),a(5)),i=a(6),l=a(10),d=a(8),u=a(7),h=a(11),m=a.n(h),f=a(12),p=a(14),v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).chartRef=n.a.createRef(),e.myChart={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.createChart(this.props)}},{key:"componentDidUpdate",value:function(){this.createChart(this.props)}},{key:"createChart",value:function(e){if(e.chartData&&void 0!==e.chartData.length){var t=[],a=[],r=[],n=[],s=[];e.chartData.forEach((function(e){t.push(e.date),a.push(e.confirmed),r.push(e.recovered),n.push(e.deaths);var c=0;s.push(c+=e.confirmed-e.recovered-e.deaths)}));var c=3,o=50;p.isMobile&&(c=1,o=5);var i=this.chartRef.current.getContext("2d");Object(f.isEmpty)(this.myChart)?this.myChart=new m.a(i,{type:"line",data:{labels:t,datasets:[{label:"Confirmed",data:a,borderColor:"#4285f4",fill:!1,pointRadius:c},{label:"Recovered",data:r,borderColor:"#0c9d58",fill:!1,pointRadius:c},{label:"Deaths",data:n,borderColor:"#db4337",fill:!1,pointRadius:c},{label:"Active",data:s,borderColor:"#f4b400",fill:!1,pointRadius:c}]},options:{animation:{duration:1e3,easing:"easeInOutQuint"},layout:{padding:{left:o,right:o,top:o,bottom:10}},legend:{labels:{padding:10}},title:{display:!1},scales:{xAxes:[{ticks:{maxTicksLimit:p.isMobile?4:10,maxRotation:0}}]}}}):(this.myChart.data.datasets[0].data=a,this.myChart.data.datasets[1].data=r,this.myChart.data.datasets[2].data=n,this.myChart.data.datasets[3].data=s,this.myChart.options.title.text=e.selectedCountry,this.myChart.update())}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(n.a.Component),y=a(37),C=a(20),b=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).chartRef=n.a.createRef(),e.myChart={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.createChart(this.props)}},{key:"componentDidUpdate",value:function(){this.createChart(this.props)}},{key:"createChart",value:function(e){if(e.chartData&&void 0!==e.chartData.length){var t=[];e.chartData.forEach((function(a,r){t.push(a-e.chartData[r-1])}));var a=this.chartRef.current.getContext("2d");Object(f.isEmpty)(this.myChart)?this.myChart=new m.a(a,{type:"line",data:{labels:e.dates.splice(-20),datasets:[{label:"Confirmed",data:t.splice(-20),borderColor:"#4285f4",fill:!1,pointRadius:0}]},options:{animation:{duration:2e3,easing:"easeInOutQuint"},tooltips:{enabled:!0,mode:"nearest"},legend:{display:!1},title:{display:!1},scales:{xAxes:[{ticks:{display:!1},gridLines:{display:!1}}],yAxes:[{ticks:{display:!1},gridLines:{display:!1}}]}}}):(this.myChart.data.datasets[0].data=t.splice(-20),this.myChart.update())}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(n.a.Component);var E=function(e){var t=e.data[e.data.length-1]-e.data[e.data.length-2],a=t>0?"+":t<0?"-":"";return n.a.createElement(C.a,{md:2,sm:4,xs:4,className:e.class},e.data[e.data.length-1],n.a.createElement("br",null),e.title,n.a.createElement("div",null,"[",a,Math.abs(t),"]"),n.a.createElement(b,{chartData:e.data,dates:e.dates,color:"#005C25"}))};var g=function(e){if(e.data&&void 0!==e.data.length){var t=[],a=[],r=[],s=[],c=[];return e.data.forEach((function(e){t.push(e.confirmed),a.push(e.deaths),r.push(e.recovered),s.push(e.confirmed-e.recovered-e.deaths),c.push(e.date)})),n.a.createElement(y.a,{className:"today-row justify-content-center"},n.a.createElement(E,{class:"confirmed",data:t,dates:c,title:"Confirmed"}),n.a.createElement(E,{class:"recovered",data:r,dates:c,title:"Recovered"}),n.a.createElement(E,{class:"deaths",data:a,dates:c,title:"Deaths"}),n.a.createElement(E,{class:"active",data:s,dates:c,title:"Active"}))}return n.a.createElement(n.a.Fragment,null)},k=a(38);var j=function(e){var t=e.stats,a=e.selectedCountry;return n.a.createElement(k.a,{fluid:!0,style:{backgroundColor:"#f8f8ff",padding:0}},n.a.createElement(y.a,null,n.a.createElement(C.a,{md:12,style:{fontSize:40,fontWeight:"bold",padding:20}},a)),n.a.createElement(g,{data:t}),n.a.createElement("div",{style:{display:!a&&"none"}},n.a.createElement(v,{chartData:t,selectedCountry:a})))},D=a(39);var O=function(e){return n.a.createElement(C.a,{md:{span:4,offset:5}},n.a.createElement(D.a,null,n.a.createElement(D.a.Group,{className:"country-select"},n.a.createElement(D.a.Control,{as:"select",custom:!0,onChange:e.onChangeFunction,defaultValue:"select"},n.a.createElement("option",{value:"select"}," Search Country "),e.countryArr.map((function(e){return n.a.createElement("option",{value:e,key:e}," ",e)}))))))},R=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={countryArr:[],data:{},worldStats:{},selectedCounty:""},e.getData=e.getData.bind(Object(l.a)(e)),fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(t){var a={confirmed:0,recovered:0,deaths:0},r=Object.keys(t).map((function(e){return e}));r.forEach((function(e){var r=t[e];r=r[r.length-1],a.confirmed+=r.confirmed,a.recovered+=r.recovered,a.deaths+=r.deaths}));var n=[];r.forEach((function(e){t[e].forEach((function(e,t){if(void 0===n[t]){var a={date:e.date,confirmed:e.confirmed,recovered:e.recovered,deaths:e.deaths};n.push(a)}else n[t].confirmed+=e.confirmed,n[t].recovered+=e.recovered,n[t].deaths+=e.deaths}))})),e.setState({countryArr:r,data:t,worldStats:a,worldChart:n})})),e}return Object(i.a)(a,[{key:"getData",value:function(e){var t=e.target.value;"select"!==t?this.setState({selectedCountry:t}):this.setState({selectedCountry:""})}},{key:"render",value:function(){var e=this.state.data[this.state.selectedCountry],t=this.state.worldChart;return n.a.createElement(k.a,{fluid:!0,className:"App"},n.a.createElement(y.a,{className:"App-header"},n.a.createElement(C.a,{md:3,style:{textAlign:"left"}},"Covid19 Visuals"),n.a.createElement(O,{onChangeFunction:this.getData,countryArr:this.state.countryArr})),n.a.createElement(k.a,{fluid:!0},this.state.selectedCountry?n.a.createElement(j,{stats:e,selectedCountry:this.state.selectedCountry}):n.a.createElement(j,{stats:t,selectedCountry:"Global Numbers"})))}}]),a}(n.a.Component);a(35);var w=function(){return n.a.createElement(R,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.d0721857.chunk.js.map