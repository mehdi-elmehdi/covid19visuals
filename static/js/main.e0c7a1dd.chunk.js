(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),s=a.n(c),o=(a(26),a(27),a(5)),l=a(6),i=a(9),d=a(8),h=a(7),u=a(35),m=a(19),f=a(10),p=a.n(f),v=a(11),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).chartRef=n.a.createRef(),e.myChart={},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.createChart(this.props)}},{key:"componentDidUpdate",value:function(){this.createChart(this.props)}},{key:"createChart",value:function(e){if(e.chartData&&void 0!==e.chartData.length){var t=[];e.chartData.forEach((function(a,r){t.push(a-e.chartData[r-1])}));var a=this.chartRef.current.getContext("2d");Object(v.isEmpty)(this.myChart)?this.myChart=new p.a(a,{type:"line",data:{labels:e.dates.splice(-20),datasets:[{label:"Confirmed",data:t.splice(-20),borderColor:"#4285f4",fill:!1,pointRadius:0}]},options:{animation:{duration:2e3,easing:"easeInOutQuint"},tooltips:{enabled:!0,mode:"nearest"},legend:{display:!1},title:{display:!1},scales:{xAxes:[{ticks:{display:!1},gridLines:{display:!1}}],yAxes:[{ticks:{display:!1},gridLines:{display:!1}}]}}}):(this.myChart.data.datasets[0].data=t.splice(-20),this.myChart.update())}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(n.a.Component);var C=function(e){var t=e.data[e.data.length-1]-e.data[e.data.length-2],a=t>0?"+":"-";return n.a.createElement(m.a,{md:2,className:e.class},e.data[e.data.length-1],n.a.createElement("br",null),e.title,n.a.createElement("div",null,"[",a,Math.abs(t),"]"),n.a.createElement(y,{chartData:e.data,dates:e.dates}))};var E=function(e){if(e.data&&void 0!==e.data.length){var t=[],a=[],r=[],c=[],s=[];return e.data.forEach((function(e){t.push(e.confirmed),a.push(e.deaths),r.push(e.recovered),c.push(e.confirmed-e.recovered-e.deaths),s.push(e.date)})),n.a.createElement(u.a,{className:"today-row justify-content-center"},n.a.createElement(C,{class:"confirmed",data:t,dates:s,title:"Confirmed"}),n.a.createElement(C,{class:"recovered",data:r,dates:s,title:"Recovered"}),n.a.createElement(C,{class:"deaths",data:a,dates:s,title:"Deaths"}),n.a.createElement(C,{class:"active",data:c,dates:s,title:"Active"}))}return n.a.createElement(n.a.Fragment,null)},b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).chartRef=n.a.createRef(),e.myChart={},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.createChart(this.props)}},{key:"componentDidUpdate",value:function(){this.createChart(this.props)}},{key:"createChart",value:function(e){if(e.chartData&&void 0!==e.chartData.length){var t=[],a=[],r=[],n=[],c=[];e.chartData.forEach((function(e){t.push(e.date),a.push(e.confirmed),r.push(e.recovered),n.push(e.deaths);var s=0;c.push(s+=e.confirmed-e.recovered-e.deaths)}));var s=this.chartRef.current.getContext("2d");Object(v.isEmpty)(this.myChart)?this.myChart=new p.a(s,{type:"line",data:{labels:t,datasets:[{label:"Confirmed",data:a,borderColor:"#4285f4",fill:!1},{label:"Recovered",data:r,borderColor:"#0c9d58",fill:!1},{label:"Deaths",data:n,borderColor:"#db4337",fill:!1},{label:"Active",data:c,borderColor:"#f4b400",fill:!1}]},options:{animation:{duration:1e3,easing:"easeInOutQuint"},layout:{padding:{left:50,right:50,top:50,bottom:10}},legend:{labels:{padding:10}},title:{display:!1,text:e.selectedCountry,fontSize:30,fontColor:"#333a40"},scales:{xAxes:[{ticks:{maxTicksLimit:10,maxRotation:0}}]}}}):(this.myChart.data.datasets[0].data=a,this.myChart.data.datasets[1].data=r,this.myChart.data.datasets[2].data=n,this.myChart.data.datasets[3].data=c,this.myChart.options.title.text=e.selectedCountry,this.myChart.update())}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(n.a.Component),g=a(36);var k=function(e){var t=e.stats,a=e.selectedCountry;return n.a.createElement(g.a,{fluid:!0,style:{backgroundColor:"#f8f8ff",padding:0}},n.a.createElement(u.a,null,n.a.createElement(m.a,{md:12,style:{fontSize:40,fontWeight:"bold",padding:20}},a)),n.a.createElement(E,{data:t}),n.a.createElement("div",{style:{display:!a&&"none"}},n.a.createElement(b,{chartData:t,selectedCountry:a})))},D=a(37),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={countryArr:[],data:{},worldStats:{},selectedCounty:""},e.getData=e.getData.bind(Object(i.a)(e)),fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(t){var a={confirmed:0,recovered:0,deaths:0},r=Object.keys(t).map((function(e){return e}));r.forEach((function(e){var r=t[e];r=r[r.length-1],a.confirmed+=r.confirmed,a.recovered+=r.recovered,a.deaths+=r.deaths}));var n=[];r.forEach((function(e){t[e].forEach((function(e,t){if(void 0===n[t]){var a={date:e.date,confirmed:e.confirmed,recovered:e.recovered,deaths:e.deaths};n.push(a)}else n[t].confirmed+=e.confirmed,n[t].recovered+=e.recovered,n[t].deaths+=e.deaths}))})),e.setState({countryArr:r,data:t,worldStats:a,worldChart:n})})),e}return Object(l.a)(a,[{key:"getData",value:function(e){var t=e.target.value;"select"!==t?this.setState({selectedCountry:t}):this.setState({selectedCountry:""})}},{key:"render",value:function(){var e=this.state.data[this.state.selectedCountry],t=this.state.worldChart;return n.a.createElement(g.a,{fluid:!0,className:"App"},n.a.createElement(u.a,{className:"App-header"},n.a.createElement(m.a,{md:3,style:{textAlign:"left"}},"Covid19 Visuals"),n.a.createElement(m.a,{md:{span:4,offset:5}},n.a.createElement(D.a,null,n.a.createElement(D.a.Group,{className:"country-select"},n.a.createElement(D.a.Control,{as:"select",custom:!0,onChange:this.getData,defaultValue:"select"},n.a.createElement("option",{value:"select"}," Search Country "),this.state.countryArr.map((function(e){return n.a.createElement("option",{value:e}," ",e)}))))))),n.a.createElement(g.a,{fluid:!0},n.a.createElement(g.a,{fluid:!0,style:{backgroundColor:"#f8f8ff",padding:0}},n.a.createElement(u.a,null,n.a.createElement(m.a,{md:12,style:{fontSize:40,fontWeight:"bold",padding:20}},"Global Numbers")),n.a.createElement(E,{data:t}),this.state.selectedCountry?n.a.createElement(n.a.Fragment,null):n.a.createElement(b,{chartData:t,selectedCountry:""})),this.state.selectedCountry?n.a.createElement(k,{stats:e,selectedCountry:this.state.selectedCountry}):n.a.createElement(n.a.Fragment,null)))}}]),a}(n.a.Component);a(33);var O=function(){return n.a.createElement(j,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e0c7a1dd.chunk.js.map